parameters:

services:

    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    App\EventListener\CustomExceptionListener:
        tags:
            - { name: 'kernel.event_listener', event: 'kernel.exception' }

    App\Adapter\PaypalPaymentProcessorAdapter:
        arguments:
            - !service
                class: Systemeio\TestForCandidates\PaymentProcessor\PaypalPaymentProcessor

    App\Adapter\StripePaymentProcessorAdapter:
        arguments:
            - !service
                class: Systemeio\TestForCandidates\PaymentProcessor\StripePaymentProcessor

    App\Registry\PaymentProcessorRegistry:
        calls:
            - register: [ 'paypal', '@App\Adapter\PaypalPaymentProcessorAdapter' ]
            - register: [ 'stripe', '@App\Adapter\StripePaymentProcessorAdapter' ]
